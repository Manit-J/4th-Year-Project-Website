<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Project Details</title>
    <style>
        /*Basic Page styling*/
        body {
            font-family: Arial, sans-serif;
            background-color: white;
            padding: 40px;
        }
        /* Project name styling: bold and blue */
        h2 {
            color: #0074D9;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        /* Paragraph styling for project details */
        p {
            font-size: 16px;
            margin: 8px 0;
        }

        strong {
            color: #333;
        }
        /* Container for buttons: Back + Apply  (flex-start to align items to the left side)*/
        .button-row {
        display: flex;
        justify-content: flex-start;
        gap: 40px;
        margin-top: 30px;
        }
        /* Button styling */
        .button {
        background-color: #0074D9;
        color: white;
        border: none;
        padding: 10px 18px;
        font-size: 16px;
        border-radius: 6px;
        }
        .button:hover {
        background-color: #000080;
        }
        /* Error message styling */
        .full-message {
            color: red;
            font-weight: bold;
            margin-top: 30px;
        }
    </style>
</head>
<body>

<h2 th:text="${project.name}"></h2>
<!-- Project details -->
<p><strong>Group Number:</strong> <span th:text="${project.id}"></span></p>
<p><strong>Description:</strong> <span th:text="${project.description}"></span></p>
<p><strong>Department:</strong> <span th:text="${project.department}"></span></p>
<p><strong>Status:</strong> <span th:text="${project.status}"></span></p>
<p><strong>Capacity:</strong> <span th:text="${#lists.size(project.students)} + '/' + ${project.capacity}"></span></p>
<p><strong>Academic Year:</strong> <span th:text="${project.academicYear}"></span></p>
<p><strong>Required Skills:</strong> <span th:text="${project.requiredSkills}"></span></p>

<!-- Back Button -->
<div class="button-row">
    <a th:href="@{/project}">
        <button type="button" class="button">Back to Projects</button>
    </a>
    <!-- Apply Navigation only if project not full -->
    <div th:if="${#lists.size(project.students) < project.capacity}">
        <a th:href="@{/project/apply/{id}(id=${project.id})}">
            <button type="button" class="button">Apply to this Project</button>
        </a>
    </div>
</div>
<!-- Full Message only if project is full -->
<div th:if="${#lists.size(project.students) >= project.capacity}" class="full-message">
   <p class="full-message">This project is full. Applications are closed.</p>
</div>
</body>
</html>
